################################################################################
# using lib
################################################################################

source("lib.r")

################################################################################
# defining df and variables
################################################################################

# df <- read.table("dataset.txt")[,-c(4,6,8,10,12,14,16,18,19)]
df <- iris[,-5]
df.col <- iris[,5]
epsilon <- 0.1
alpha <- 0.5

################################################################################
# normalize all columns from the df
################################################################################

df <- data.frame(apply(df, 2, normalize_column))

################################################################################
# create the diffusion matrix
################################################################################

l <- as.matrix(dist(df))

################################################################################
# plot the eigenvectors
################################################################################

plot(
  x = eigen_matrix(l)$vectors[,2],
  y = eigen_matrix(l)$vectors[,3],
  pch = 21,
  bg = c(1:length(unique(df.col)))[unclass(df.col)]
)
legend(
  x = 'center',
  pch = 16,
  legend = c(levels(df.col)),
  col = c(1:length(unique(df.col))),
  text.col = c(1:length(unique(df.col)))
)
